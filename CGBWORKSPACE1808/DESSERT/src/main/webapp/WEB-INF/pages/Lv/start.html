 <!-- 轮播图 -->
<div class="slide" id="slider" style="height: 718px; width: 100%; position: relative;">
    <div style="width: 100%; height: 718px; min-width: 980px; position: absolute; left: 0px; top: 0px; display: none; overflow: hidden; text-align: center; backface-visibility: hidden; transform: translate3d(0px, 0px, 0px);"><a class="back_a" name="sliders_1" data-name="小重组" href="javascript:void(0)" data-original="" style="background-image: url(&quot;//static.21cake.com//upload/images/3857deac5ed9d8d18e8383c82a03d873.jpg&quot;); display: inline-block; width: 100%; height: 100%; background-position: center center; background-repeat: no-repeat; transform: scale(1); backface-visibility: hidden; transition: all 5s ease 0s;"></a></div><div style="width: 100%; height: 718px; min-width: 980px; position: absolute; left: 0px; top: 0px; overflow: hidden; text-align: center; backface-visibility: hidden; transform: translate3d(0px, 0px, 0px); display: block;">
    <a class="back_a" name="sliders_2" data-name="坚果专题" href="javascript:void(0)" src="../images/home/home/b96fcbab6be2dc3d3eb51731cdca673f.jpg" style="background-image: url(&quot;./images/home/b96fcbab6be2dc3d3eb51731cdca673f.jpg&quot;); display: inline-block; width: 100%; height: 100%; background-position: center center; background-repeat: no-repeat; transform: scale(1); backface-visibility: hidden; transition: all 5s ease 0s;"></a>
</div>
    <h3 style="position: absolute; top: 324px; padding: 20px 10px; font-size: 30px; font-family: 黑体; color: rgb(255, 255, 255); background: rgba(0, 0, 0, 0.5); cursor: pointer; display: none;">&gt;
    </h3></div>

<!-- 中间内容 -->
<div class="content-box" style="min-height: 392px;">
    <div class="home-module home-menu">
        <a href="#1" name="menu_1">
            <img src="./images/home/d349da941efba219856d5983958bdd81.jpg" alt="新品" title="新品">
        </a>
        <a href="#2" name="menu_2">
            <img src="./images/home/b6f731149b7076b524114c0d7c387da0.png" alt="生日" title="生日">
        </a>
        <a href="#4" name="menu_3">
            <img src="./images/home/0b331caf72a856549a98cf94d22cf3b3.png" alt="儿童" title="儿童">
        </a>
        <a href="#5" name="menu_4">
            <img src="./images/home/78c8a0592d41612c1f01ebe226d8b399.png" alt="聚会" title="聚会">
        </a>
        <a href="#6" name="menu_5">
            <img src="./images/home/82e473d51470b7151981ba05c81f5b6d.png" alt="活动专区" title="活动专区">
        </a>
    </div>
    <div class="home-module home-colorful anchor" id="1">
        <h4 class="home-module-title">新品<span>/</span><span>专区</span></h4>
        <div class="colorful-top-banner">
            <a href="javascript:void(0)" target="_blank" name="floor_banner_1">
                <img class="lazy"  src="./images/home/734b487b94f0d4ffd9fc38b36f72bf4c.jpg" style="display: inline;">
            </a>
        </div>
        <div class="color-product-list">
            <div class="list-box">
                 <ul></ul>
            </div>
            <div class="home-left-button home-button" name="floor_left_button_1"></div>
            <div class="home-right-button home-button" name="floor_right_button_1"></div>
        </div>            </div><div class="home-module home-colorful anchor" id="2">
    <h4 class="home-module-title">
        生日
        <span>/</span>
        <span>专区</span>
    </h4>
    <div class="colorful-top-banner anchor" id="3">
        <a href="javascript:void(0)" target="_blank" name="floor_banner_2">
            <img class="lazy" src="./images/home/84f0375298ea7fe876ae1447c2911400.jpg"></a>
    </div>
    <div class="color-product-list">
        <div class="list-box">
            <ul></ul>
        </div>
        <div class="home-left-button home-button" name="floor_left_button_2">

        </div>
        <div class="home-right-button home-button" name="floor_right_button_2">
        </div>
    </div>
</div><div class="home-module home-colorful anchor" id="4">
    <h4 class="home-module-title">儿童<span>/</span>
        <span>专区</span>
    </h4>
    <div class="colorful-top-banner">
        <a href="javascript:void(0)" target="_blank" name="floor_banner_3">
            <img class="lazy"  src="./images/home/a85037c288546b3c691192dfad2bb16a.jpg">
        </a>
    </div>
    <div class="color-product-list">
    <div class="list-box">
     	<ul></ul>
          </div>
    <div class="home-left-button home-button" name="floor_left_button_3"></div>
    <div class="home-right-button home-button" name="floor_right_button_3"></div>
</div>
</div>
    <div class="home-module home-colorful anchor" id="5">
        <h4 class="home-module-title">聚会<span>/</span><span>专区</span></h4>
        <div class="colorful-top-banner">
            <a href="javacript:void(0)" target="_blank" name="floor_banner_4">
                <img class="lazy" src="./images/home/4f5fdcf4d2b26b0400372f90b8fac191.jpg">
            </a>
        </div>
        <div class="color-product-list">
            <div class="list-box">
                <ul></ul>
            </div>
            <div class="home-left-button home-button" name="floor_left_button_4">
            </div>
            <div class="home-right-button home-button" name="floor_right_button_4">
            </div>
        </div>
    </div> <div class="home-module home-s_activity anchor" id="6">
    <h4 class="home-module-title">活动门<span>/</span><span>是被吸引了吧</span></h4>
    <ul class="home-s_activity-content">
        <li>
        <a href="javascript:void(0)" target="_blank" name="activity_">
            <img class="lazy" src="./images/home/810af7fb1f079477c8aec960d11fa4df.jpg" alt="新客专享">
        </a>
    </li></ul></div> <div class="home-module home-magazine anchor" id="7">
    <h4 class="home-module-title">廿一客<span>/</span><span>文章</span><a href="javascript:void(0)" target="_blank">查看更多&nbsp;&gt;</a>
    </h4>
    <ul class="home-magazine-content"><li>
        <a href="javascript:void(0)" target="_blank" name="community_208">
            <img class="lazy" src="./images/home/dea6a02ac712f5fc042a93d5cfe2c24a.jpg" alt="廿一志秋刊·客服Q&amp;A">
            <h4>廿一志秋刊·客服Q&amp;A</h4>
            <p><span></span><span>阅读全文 &gt;&gt;</span></p>
        </a>
    </li><li>
        <a href="javascript:void(0)" target="_blank" name="community_197">
            <img class="lazy"  src="./images/home/a6e7f6613a769ad63bb6798b08fd9bc4.jpg" alt="春季刊 · 茶">
            <h4>春季刊 · 茶</h4>
            <p><span></span><span>阅读全文 &gt;&gt;</span></p>
        </a>
    </li></ul>
</div>
</div>
<div class="layer-shade">
</div>
<script> 
 $(function(){
	 	 
		 doGetObjects();
		 
		  //实现加入购物车功能
		 $(".content-box").on("click",".pro-list-addcart",addCart);
	 })
	 //购物车方法
	 function addCart(){
	 	$(this).parents("li");
	 	//这个是绑定在数据库上的
	 	var data = $(this).parents("li").data("ct");
	    
	 	//通过Ajax 方法将数据传入数据库中
	 	var url="cart/addcart.do";
	 	var params ={
	 			name: data.name,
	 			username:"abc",
	 			price:data.price,
	 			category:data.category,
	 			imagesurl:data.image,
	 			totalprice:data.price
	 			
	 	};
	 	
	 	$.post(url,params,function(result){
	 		
	 		alert(result.message);
	 	})
 	}
	function doGetObjects(){
	 
	  var url="goods/dofindPageObjects.do";
	  var params={"pageCurrent":pageCurrent};
	   //让此函数正在查询时可用
	  var name=$("#searchNameId").val();
	  if(name)params.name=name;//查询时需要
	  var pageCurrent=1;
	 
	  params={"pageCurrent":pageCurrent};
      console.log("pageCurrent",params.pageCurrent);
      $.getJSON(url,params,function(result){
		 doHandleResponseResult(result,0)
		 //console.log(result);
      });
      pageCurrent=2;
 	 
	  params={"pageCurrent":pageCurrent};
      $.getJSON(url,params,function(result){
    	  doHandleResponseResult(result,1)
      });
      
      pageCurrent=3;
	  params={"pageCurrent":pageCurrent};
      $.getJSON(url,params,function(result){
	  doHandleResponseResult(result,2)
    });
      pageCurrent=4;
	  params={"pageCurrent":pageCurrent};
      $.getJSON(url,params,function(result){
    	  
		doHandleResponseResult(result,3)
    });
     
       
       
   }
  function doHandleResponseResult(result,i){
	   
	   if(result.state==1){
		//   console.log(result.data.records)
		  doSetTableBodyRows(result.data.records,i);
		  
	   }else{
		  doSetTableBodyErrors(result.message);
	   }
  }
  function doSetTableBodyRows(goods,i){
	   //1.获取tbody对象，并清空对象
	   //console.log(goods)
	   var tBody=$(".list-box:eq("+i+") ul");
	  // console.log("body",tBody)
	   //2.迭代records记录，并将其内容追加到tbody
	   for(var i in goods){
		   //2.1 构建tr对象
		   var li=$("<li></li>");
		   //将该物品的信息存放在这个li里面，以便加入购物车时存入信息
		   li.data("ct",goods[i]);
		 
		   var tds=doCreatedTds(goods[i]);
		   //2.3 将tds追加到tr中
		   li.append(tds);
		   //2.4 将tr追加到tbody中
		   tBody.append(li);
	   
	   }
  
  }
  

	 function doCreatedTds(row){
		   var tds= 
		   "<div class='pro-list-su'><a class='goods-list'>"+
		   "<img src='"+row.image+"'class='lazy' alt='芒果慕斯' style='display: inline;'>"+
		   "<h3>"+row.name+"</h3><span>¥"+row.price+"/2.0磅</span>"+
		   "</a><div class='label-entrance'><a href='index.do'>"+
		   "儿童 &gt;</a><a href='javecript:void(0)'>聚会 &gt;</a>"+
		   "<a href='javascript:void(0)'>新品 &gt;</a></div><a href='javascript:void(0);'"+
		   " name='pro-list-addcart_21' class='pro-list-addcart' data-id='21'><i></i>加入购物车</a>"+
		   " </div> <div class='pro-specifications' data-id='21'></div>";
	      return tds;
	  } 

</script>

